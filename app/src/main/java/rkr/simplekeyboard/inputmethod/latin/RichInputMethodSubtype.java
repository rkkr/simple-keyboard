/*
 * Copyright (C) 2014 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package rkr.simplekeyboard.inputmethod.latin;

/**
 * Enrichment class for InputMethodSubtype to enable concurrent multi-lingual input.
 *
 * Right now, this returns the extra value of its primary subtype.
 */
// non final for easy mocking.
public class RichInputMethodSubtype {
//    private static final HashMap<Locale, Locale> sLocaleMap = initializeLocaleMap();
//    private static final HashMap<Locale, Locale> initializeLocaleMap() {
//        final HashMap<Locale, Locale> map = new HashMap<>();
//        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
//            // Locale#forLanguageTag is available on API Level 21+.
//            // TODO: Remove this workaround once when we become able to deal with "sr-Latn".
//            map.put(Locale.forLanguageTag("sr-Latn"), new Locale("sr_ZZ"));
//        }
//        return map;
//    }
//
//    private final InputMethodSubtype mSubtype;
//    private final Locale mLocale;
//    private final Locale mOriginalLocale;
//
//    public RichInputMethodSubtype(final InputMethodSubtype subtype) {
//        mSubtype = subtype;
//        mOriginalLocale = InputMethodSubtypeCompatUtils.getLocaleObject(mSubtype);
//        final Locale mappedLocale = sLocaleMap.get(mOriginalLocale);
//        mLocale = mappedLocale != null ? mappedLocale : mOriginalLocale;
//    }
//
//    // Extra values are determined by the primary subtype. This is probably right, but
//    // we may have to revisit this later.
//    public String getExtraValueOf(final String key) {
//        return mSubtype.getExtraValueOf(key);
//    }
//
//    public String getNameForLogging() {
//        return toString();
//    }
//
//    // InputMethodSubtype's display name for spacebar text in its locale.
//    //        isAdditionalSubtype (T=true, F=false)
//    // locale layout  |  Middle      Full
//    // ------ ------- - --------- ----------------------
//    //  en_US qwerty  F  English   English (US)           exception
//    //  en_GB qwerty  F  English   English (UK)           exception
//    //  es_US spanish F  Español   Español (EE.UU.)       exception
//    //  fr    azerty  F  Français  Français
//    //  fr_CA qwerty  F  Français  Français (Canada)
//    //  fr_CH swiss   F  Français  Français (Suisse)
//    //  de    qwertz  F  Deutsch   Deutsch
//    //  de_CH swiss   T  Deutsch   Deutsch (Schweiz)
//    //  zz    qwerty  F  QWERTY    QWERTY
//    //  fr    qwertz  T  Français  Français
//    //  de    qwerty  T  Deutsch   Deutsch
//    //  en_US azerty  T  English   English (US)
//    //  zz    azerty  T  AZERTY    AZERTY
//    // Get the RichInputMethodSubtype's full display name in its locale.
//    public String getFullDisplayName() {
//        return SubtypeLocaleUtils.getSubtypeLocaleDisplayName(mSubtype.getLocale());
//    }
//
//    // Get the RichInputMethodSubtype's middle display name in its locale.
//    public String getMiddleDisplayName() {
//        return SubtypeLocaleUtils.getSubtypeLanguageDisplayName(mSubtype.getLocale());
//    }
//
//    @Override
//    public boolean equals(final Object o) {
//        if (!(o instanceof RichInputMethodSubtype)) {
//            return false;
//        }
//        final RichInputMethodSubtype other = (RichInputMethodSubtype)o;
//        return mSubtype.equals(other.mSubtype) && mLocale.equals(other.mLocale);
//    }
//
//    @Override
//    public int hashCode() {
//        return mSubtype.hashCode() + mLocale.hashCode();
//    }
//
//    @Override
//    public String toString() {
//        return "Multi-lingual subtype: " + mSubtype + ", " + mLocale;
//    }
//
//    public Locale getLocale() {
//        return mLocale;
//    }
//
//    // TODO: remove this method
//    public InputMethodSubtype getRawSubtype() { return mSubtype; }
//
//    public String getKeyboardLayoutSetName() {
//        return SubtypeLocaleUtils.getKeyboardLayoutSetName(mSubtype);
//    }
//
////    public static RichInputMethodSubtype getRichInputMethodSubtype(InputMethodSubtype subtype) {
////        if (subtype == null) {
////            subtype = AdditionalSubtypeUtils.createAdditionalSubtype("en_US", SubtypeLocaleUtils.QWERTY);
////        }
////        return new RichInputMethodSubtype(subtype);
////    }
}
